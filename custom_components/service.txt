# Erweiterte Dienste für die Violet Pool Controller Integration
# Basierend auf API-Dokumentation Kapitel 26.2

set_auto_mode:
  name: AUTO-Modus aktivieren
  description: Setzt einen oder mehrere Switches in den automatischen Betriebsmodus.
  target:
    entity:
      integration: violet_pool_controller
      domain: switch
  fields: {}

set_pump_speed:
  name: Pumpengeschwindigkeit setzen
  description: Stellt die Drehzahl der Filterpumpe ein.
  target:
    entity:
      integration: violet_pool_controller
      domain: switch
      device_class: switch
  fields:
    speed:
      name: Geschwindigkeitsstufe
      description: Drehzahlstufe der Pumpe (1=niedrig, 2=mittel, 3=hoch).
      example: 2
      required: true
      selector:
        number:
          min: 1
          max: 3
          mode: slider
          step: 1

set_dosing_duration:
  name: Dosierungsdauer setzen
  description: Startet manuelle Dosierung für eine bestimmte Dauer.
  target:
    entity:
      integration: violet_pool_controller
      domain: switch
  fields:
    duration:
      name: Dauer
      description: Dosierungsdauer in Sekunden.
      example: 30
      required: true
      selector:
        number:
          min: 5
          max: 300
          unit_of_measurement: seconds

set_relay_timer:
  name: Relais-Timer setzen
  description: Aktiviert ein Erweiterungsrelais für eine bestimmte Zeit.
  target:
    entity:
      integration: violet_pool_controller
      domain: switch
  fields:
    duration:
      name: Laufzeit
      description: Aktivierungsdauer in Sekunden.
      example: 3600
      required: true
      selector:
        number:
          min: 60
          max: 86400
          unit_of_measurement: seconds

force_switch_off:
  name: Zwangsabschaltung
  description: Schaltet ein Gerät zwangsweise aus (mit Sperrzeit).
  target:
    entity:
      integration: violet_pool_controller
      domain: switch
  fields:
    lock_duration:
      name: Sperrzeit
      description: Dauer der Zwangsabschaltung in Sekunden.
      example: 600
      required: true
      selector:
        number:
          min: 60
          max: 3600
          unit_of_measurement: seconds

# Bestehende Services erweitern
turn_auto:
  name: In AUTO-Modus schalten
  description: Schaltet einen Schalter in den AUTO-Modus mit erweiterten Optionen.
  target:
    entity:
      integration: violet_pool_controller
      domain: switch
  fields:
    auto_delay:
      name: Verzögerung
      description: Verzögerung in Sekunden bevor AUTO-Modus aktiviert wird.
      example: 0
      default: 0
      selector:
        number:
          min: 0
          max: 86400
          unit_of_measurement: seconds
    restore_previous:
      name: Vorherigen Zustand wiederherstellen
      description: Nach AUTO-Modus den vorherigen manuellen Zustand wiederherstellen.
      example: false
      default: false
      selector:
        boolean: