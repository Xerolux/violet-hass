name: Update Release Body

on:
  release:
    types: [published, edited]  # Trigger on release publish and edit

jobs:
  update-body:
    runs-on: ubuntu-latest
    permissions:
      contents: write  # Needed to modify releases

    steps:
      - name: Update Release Body
        uses: actions/github-script@v7  # Use the github-script action
        with:
          script: |
            const releaseBody = `
            v${{ github.event.release.tag_name }} â€“ Bug Fixes & Improvements ğŸ‰

            ğŸ”§ Bug Fixes:

            ğŸš€ Improvements:


            ---

            â¤ï¸ Support My Project:

            [â˜• Buy Me a Coffee â˜•](https://buymeacoffee.com/xerolux)

            Every contribution, no matter how small, is a huge motivation! Thank you so much for your support! ğŸ™

            ---

            ğŸ’¬ Feedback & Contributions:
            Iâ€™m always open to feedback, suggestions, or contributions from the community. Feel free to open an issue or submit a pull request.

            Thank you for your support, and enjoy the new version! ğŸš€
            `;  // Define the release body as a multi-line string

            github.rest.repos.updateRelease({
              owner: context.repo.owner,
              repo: context.repo.repo,
              release_id: context.payload.release.id,
              body: releaseBody,
            });
